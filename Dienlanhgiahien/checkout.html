<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Thanh toán</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #f8f9fa; }
    .checkout-card {
      border-radius: 15px; box-shadow: 0px 4px 10px rgba(0,0,0,0.1);
      background: #fff; padding: 30px;
    }
    .checkout-title { font-size: 24px; font-weight: bold; margin-bottom: 20px; color: #dc3545; }
    .form-control { border-radius: 10px; }
    .btn-pay { border-radius: 10px; padding: 12px; font-size: 18px; }
    #bankInfo, #codInfo { display: none; }
  </style>
</head>
<body>

<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-6 col-md-8">
      <div class="checkout-card">
        <h2 class="checkout-title text-center">Thanh toán đơn hàng</h2>
        
        <form id="checkoutForm">
          <!-- Họ tên -->
          <div class="mb-3">
            <label class="form-label">Họ và tên</label>
            <input type="text" class="form-control" id="fullname" placeholder="Nhập họ tên" required>
          </div>

          <!-- Số điện thoại -->
          <div class="mb-3">
            <label class="form-label">Số điện thoại</label>
            <input type="tel" class="form-control" id="phone" placeholder="Nhập số điện thoại" required>
          </div>

          <!-- Địa chỉ -->
          <div class="mb-3">
            <label class="form-label">Địa chỉ giao hàng</label>
            <textarea class="form-control" id="address" rows="3" placeholder="Nhập địa chỉ chi tiết" required></textarea>
          </div>

          <!-- Phương thức thanh toán -->
          <div class="mb-3">
            <label class="form-label">Phương thức thanh toán</label>
            <select class="form-control" id="paymentMethod" required>
              <option value="">-- Chọn phương thức --</option>
              <option value="cod">Thanh toán khi nhận hàng (COD)</option>
              <option value="bank">Chuyển khoản ngân hàng</option>
            </select>
          </div>

          <!-- Thông tin hiển thị tùy chọn -->
          <div id="bankInfo" class="alert alert-info">
            <p>Vui lòng quét mã QR để thanh toán:</p>
            <img src="https://img.vietqr.io/image/970422-123456789-compact.png" alt="QR Bank" class="img-fluid rounded">
          </div>

          <div id="codInfo" class="alert alert-success">
            Bạn sẽ thanh toán khi nhận hàng.  
          </div>

          <!-- Nút thanh toán -->
          <div class="d-grid mt-4">
            <button type="submit" class="btn btn-danger btn-pay">Xác nhận thanh toán</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  const paymentMethod = document.getElementById("paymentMethod");
  const bankInfo = document.getElementById("bankInfo");
  const codInfo = document.getElementById("codInfo");

  paymentMethod.addEventListener("change", function() {
    bankInfo.style.display = this.value === "bank" ? "block" : "none";
    codInfo.style.display = this.value === "cod" ? "block" : "none";
  });

  document.getElementById("checkoutForm").addEventListener("submit", function(e) {
    e.preventDefault();

    // Lấy dữ liệu
    const order = {
      id: "DH" + Math.floor(Math.random() * 1000000),
      fullname: document.getElementById("fullname").value,
      phone: document.getElementById("phone").value,
      address: document.getElementById("address").value,
      payment: document.getElementById("paymentMethod").value,
      status: "Đang xử lý"
    };

    // Lưu vào localStorage
    localStorage.setItem("order", JSON.stringify(order));

    // Chuyển sang trang theo dõi đơn hàng
    window.location.href = "order-tracking.html";
  });
</script>

</body>
</html>
